
<!doctype html>
<head>
  <meta charset="utf-8">
  <meta name="author" content="Clark Bode" />
  <meta name="viewport" content="width=device-width">
  <title></title>
  <style>
    html, body {
      padding: 0;
      margin: 0;
    }
  </style>
</head>
<body>
  <div id="container"></div>
  <script src="../Common/three.min.js"></script>
  <script>
  //TODO: Figure out how to apply a texture to the object, 
  //add rotation, more objects, rotation for those objects
  // IMPORTANT NOTE: TEXTURES ONLY WORK IN FIREFOX BECAUSE GOOGLE IS AN ASS.
  
	//set the scene size
	const sceneWIDTH = window.innerWidth;;
	const sceneHEIGHT = window.innerHeight;
	
	//set camera attribs
	const VIEW_ANGLE = 45;
	const ASPECT = sceneWIDTH / sceneHEIGHT;
	const NEAR = 0.1;
	const FAR = 10000;
	
	// Get the DOM element to attach to
	const container = document.querySelector('#container');
	
	// create a WebGL renderer, texture, camera, and scene
	const renderer = new THREE.WebGLRenderer();
	const camera = new THREE.PerspectiveCamera( VIEW_ANGLE, ASPECT, NEAR, FAR);
	const jupTexture = new THREE.TextureLoader().load( "jupiter.png" ); // texture name is placeholder
	/*const jupTexture = new THREE.ImageUtils.loadTexture('crate.gif', {}, function() {
    renderer.render(scene);}) //The syntax of running a function inside the const declaration is wierd to me. Supposedly it makes sure the texture is loaded before the scene is drawn?
	// source: https://stackoverflow.com/questions/7919516/using-textures-in-three-js */
	
	const scene = new THREE.Scene();
	
	//add the camera to scene
	scene.add(camera);
	
	//start renderer
	renderer.setSize(sceneWIDTH, sceneHEIGHT);
	
	//attach the DOM elemet from the renderer
	container.appendChild(renderer.domElement);
	
	//set up jupiter's vars
	const jupRADIUS = 50;
	const jupSEGMENTS = 16;
	const jupRINGS = 16;
	
	//create jupiter's material (uses the jupTexture when creating the material and carries it wherever it goes)
	const jupMaterial = new THREE.MeshBasicMaterial( { map: jupTexture } );
	
	//Create a new mesh with sphere geometry
	const jupiter = new THREE.Mesh(

      new THREE.SphereGeometry(
        jupRADIUS,
        jupSEGMENTS,
        jupRINGS), jupMaterial//Material goes here, but is created WITH the texture.
		); 
	//Move the it back so it's visible
	jupiter.position.z = -300;
	
	//add jupiter to scene
	scene.add(jupiter);
	

	
	//create some light
	const pointLight = new THREE.PointLight(0xFFFFF);
	
	//set light position
	pointLight.position.x = 10;
	pointLight.position.y = 50;
	pointLight.position.z = 130;
	
	//add to the scene
	scene.add(pointLight);
	
	function update () 
	{
      // Draw!
      renderer.render(scene, camera);

      // Schedule the next frame.
      requestAnimationFrame(update);
	  
	  //rotate jupiter by a certain value (currently placeholder)
	  //jupiter.rotation.x = placeholder;
    }

    // Schedule the first frame.
    requestAnimationFrame(update);
  </script>
</body>
</html>